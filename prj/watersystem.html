<!DOCTYPE html>
<html>

<Head>
    <title> Projects- plant watering</title>
    <link rel="stylesheet" type="text/css" href="../style.css" />

</Head>



<body>

    

    <div id="header">
            
        <h1>『EP1000 DIGI FABLAB』</h1>

        <nav>
            <ul class="navlink">
                <li><a href="../index.html" >|Home|</a></li>
                <li><a href="../docs/topics.html" >|Topics|</a></li>
                <li><a href="project.html" >|Projects|</a></li>
              </ul>
        </nav>

        

    </div>

    <div id="pagenav">
        <h3>Section navigation</h3>
        <ul>
            <li><a href="#idea">Project idea</li></a>
            <li><a href="#research">Research</li></a>
            <li><a href="#sketch">Designing</li></a>
            <li><a href="#prototype">prototyping</li></a>
            <li><a href="#fabrication">Fabrication</li></a>
            <li><a href="#assembly">Assembly</li></a>
            <li><a href="#electronics">Electronics</li></a>
            <li><a href="#documentation">Documentation</li></a>
        </ul>
    </div>

    <div id="container">

        

        <div id="main">

            <h2><u>Automated plant watering system</u></h2>
            

        </div>
        
        <div id="contents">

            <div id="idea">
                <h3 id="-u-project-idea-u-"><u>Project idea</u></h3>
                <p>Recently National Parks Board distributed free seed packets to households, however most are so busy with work they end up forgetting to take care of the plants, mainly forgetting to water them. (At least that is a problem my parents face when attempting to grow vegetative plants).</p>
                <p>With that I was thinking how it would be nice to have a machine that could automatically water the plants for you, so all you need to do is to remember to refill the water container.</p>
                <h4 id="-u-design-brief-u-"><u>Design brief</u></h4>
                <p><strong>Project title:</strong> Automatic potted plant watering system</p>
                <p><strong>Function:</strong> Manages and dispenses water to multiple plant pots automatically</p>
                <p>With my project idea finalized I created a Gantt chart to help manage and track the progress of my project. Given 4 weeks with 8 hours per week here is the rough plan I came up with:</p>
                
                <img width=1000px height=auto class="center" src="../img/gantt.PNG" >

            </div>

            <div id="research">
                <h3 id="-u-research-u-"><u> Research</u></h3>
                <p>I did some research on existing projects and noted some features I can borrow to implement in my own project.</p>
                <ul>
                <li><strong><a href="https://www.instructables.com/Arduino-Automatic-Watering-System/" target="none">Arduino Automatic Watering System from Instructables</strong><br></a>
                    <img width=300px height=auto src="../img/arduinowaterinstructable.jpg" ><br>
                </li>
                Here a water sensor is used to detect if the moisture level in soil falls below a threshold, turning on a DC motor pump.
                </ul>
            <!---
                <ul>
                    <li><strong><a href="https://www.instructables.com/Self-Watering-Plant/" target="none">Self-Watering Plant from Instructables</strong><br></a><img width=300px height=auto src="../img/selfwateringarduino.jpg" ><br><br>This design uses long bolts as water sensors and a relay to control a nom-submersible pump, controlled by an Arduino as well.</li>
                </ul>
            -->
                <ul>
                <li><strong><a href="https://www.instructables.com/CNC-Arduino-Plant-Growing-Machine/" target="none">CNC Arduino Plant Growing Machine from Instructables</strong><br></a>
                    <img width=300px height=auto src="../img/cncplant.jpg" ><br>
                This project is more complex and uses an addition of stepper motors to water multiple plant containers, it also has grow lights built into it to help cultivate the plants faster. </li>
                </ul>
                <!--<ul>
                    <li><strong><a href="https://www.electronicsforu.com/electronics-projects/hardware-diy/automatic-plant-watering-system" target="none">Automated Plant Watering System</strong><br></a>
                        <img width=300px height=auto src="https://www.electronicsforu.com/wp-contents/uploads/2016/03/645_Fig_1.jpg" ><br>
                    This design makes use of a servo, attaching a pipe on its horn to direct water to the plants.</li>
                </ul>*/-->

                <p>Going through multiple watering systems people have done, I decided the functions I want to implement into my design:</p>
                <ul>
                <li><p>Have a water sensor detect soil dryness and control a DC motor water pump, this is the basics of an automated watering system.<br><img src="../img/sketch1.jpeg" width=500px height=auto ></p>
                </li>
                <li><p>As I want a single system to be able to manage multiple pots, I came up with a mechanism where the watering tube would be connected to a servo motor, where it will position to dispense water to the specific pot.<br><img src="../img/sketch_Water.jpeg" width=500px height=auto ></p>
                    It basically works by positioning the tube (connected to the DC pump) to a spout which directs the water flow onto the plant pot.

                </li>
                </ul>
                <p>And so I decided to call the project "<strong>Plant Fountain</strong>" as the method of water delivery from a spout makes it look like some sort of water fountain display (also helps in <em>Aesthetics</em>).</p>



            </div>

            <div id="sketch">

                <h3 id="-u-design-sketches-u-"><u>Designing</u></h3>
                <p>Next is desinging how the Plant Fountain would look like. Here is the list of materials I will be working with:</p>
                    <table>
                        <tr>
                          <th>Item</th>
                          <th>Quanitiy</th>
                        </tr>
                        <tr>
                            <td>Arduino controller</td>
                            <td>1</td>
                          </tr>
                        <tr>
                          <td>9g Servo motor (positional)</td>
                          <td>1</td>
                        </tr>
                        <tr>
                          <td>Arduino water sensor</td>
                          <td>3</td>
                        </tr>
                        <tr>
                          <td>5V DC motor water pump</td>
                          <td>1</td>
                        </tr>
                        <tr>
                          <td> 2N2222 Transistor</td>
                          <td>1</td>
                        </tr>
                        <tr>
                          <td> Resistor 200Ω</td>
                          <td>1</td>
                        </tr>
                        <tr>
                          <td>Tubing (for pump)</td>
                          <td>-</td>
                        </tr>
                        <tr>
                          <td>Flower pot</td>
                          <td>3</td>
                        </tr>
                        <tr>
                          <td>Water bottle / anything that can contain water</td>
                          <td>1</td>
                        </tr>
                          <tr>
                            <td>Acrylic (3mm thick) White / Clear</td>
                            <td>-</td>
                          </tr>
                      </table>

                      <p>The design process was a back and forth from drawing to designing the model on FUSION 360. After multiple designs I finalised the design I prefer and think that would work.
                      </p>
                      <div class="row" >
                        <div class="column">
                          <img width=350px height=auto src="https://i.imgur.com/2gAuARI.jpg" >
                        </div>
                        <div class="column">
                          <img width=350px height=auto src="https://i.imgur.com/dlHvIum.jpg" >
                        </div>
                        <div class="row" >
                          <div class="column">
                            <img width=250px height=auto src="https://i.imgur.com/rI13n6i.jpg" >
                          </div>
                        </div>
                      <br>
                      <img src="https://i.imgur.com/ipzcQKs.jpg" width=700px height=auto class="center">

                      <p>In total the whole structure consist of 3 parts: The Tower (plywood), Servo support (acrylic) and the spouts (3D printed). I designed all of them in a single project so its easy to visualise how everything would fit together. View the tabs to see how each part is done: </p>

                      <div class="tab">
                        <button class="tablinks" onclick="openCity(event, 'Tower')">Tower</button>
                        <button class="tablinks" onclick="openCity(event, 'servo')">Servo support</button>
                        <button class="tablinks" onclick="openCity(event, 'print')">Spouts</button>
                      </div>

                      <div id="Tower" class="tabcontent">
                        <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
                        <h4 id="-u-the-tower-u-"><u> The tower</u></h4>
                        <p> The tower is the main structure of the plant fountain. It basically houses the electronics and mechanisms. For the Tower I decided to use plywood.</p>

                        <p>For the foundation I start with the previously made <a href="https://plsspeccify.github.io/EP1000/docs/lasercutbox.html">Laser cut box</a>, from there I alter the parameters to the appropriate measurements.</p>
                        <img width=400px height=auto src="https://i.imgur.com/AdhtYJS.png" >
                        <p>First up the base: I created a new sketch for the base design extension and join extrude it. I also fillet the sharp edges.</p>
                        <img width=400px height=auto src="https://i.imgur.com/deyrCHe.png" ><img width=400px height=auto src="https://i.imgur.com/NRu8gxV.png" >
                        <p>To fit the spouts into the tower I cut out a square from the top to the measurements of the width of the spouts.</p>
                        <img width=400px height=auto src="https://i.imgur.com/f7uiV1Q.png" >
                        <p>And to support the spouts mid air I created another floor, extruding as a new component and using the combine cut function to create tabs on the walls.</p>
                        <img width=400px height=auto src="https://i.imgur.com/Tlrvj2F.png" ><img width=400px height=auto src="https://i.imgur.com/X550QyS.png" >
                        <p>I decided to create a sliding door near the base in order to access the electronics when the tower is fully constructed. I did this by first cutting a square hole to my desired measurements.</p>
                        <img width=400px height=auto src="https://i.imgur.com/Fkl1Vu3.png" >
                        <p>I need to make some guard to prevent the door from falling, so I more tabs next to the existing ones 3mm apart (assuming the wood thickness is 3mm). I then extrude a new component and use combine cut.</p>
                        <img width=400px height=auto src="https://i.imgur.com/z9I9Pd0.png" ><img width=400px height=auto src="https://i.imgur.com/nAndBIp.png" >
                        <p>I lastly extrude on the guard the actual door. I cut a slot in the door so I can slide it out. Its also a way to provide power to the electronics.</p>
                        <img width=400px height=auto src="https://i.imgur.com/smDEXGS.png" >
                        <p>Back to the middle floor, I cut a T-shape for wiring to pass through. I also decided to turn the large cuts for the spouts into a small square, that way I can slide the spout in.</p>
                        <img width=400px height=auto src="https://i.imgur.com/ABEVuTb.png" ><img width=400px height=auto src="https://i.imgur.com/DuwagdS.png" >
                        <p>I also cut some holes for the wires and tubing.</p>
                        <img width=400px height=auto src="https://i.imgur.com/liOwHju.png" >
                        <p>Lastly the cover, I sketched a square with tabs, extrude as a new component and use combine cut for the other sides.</p>
                        <img width=400px height=auto src="https://i.imgur.com/tdHUq8L.png" ><img width=400px height=auto src="https://i.imgur.com/B8lGfBV.png" >
                        <p>And the tower is complete!</p>
                        <div class="row" >
                          <div class="column">
                            <img width=300px height=auto src="https://i.imgur.com/SuJL7S2.png" >
                          </div>
                          <div class="column">
                            <img width=279px height=auto src="https://i.imgur.com/Gxx3ivD.png" >
                          </div>
                        </div>


                      </div>
                      
                      <div id="servo" class="tabcontent">
                        <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
                        <h4 id="-u-the-tower-u-"><u>Servo Support</u></h4>
                        <p>The servo support holds the servo motor and water spout in place, as this area will most likely be splashed with water I decided to make it out of acrylic.</p>
                        <p>I created a new component for the servo support. I first create a sketch plane on the underside of the spout hole and extrude it to the thickness of the acrylic sheet.</p>
                        <img width=400px height=auto src="https://i.imgur.com/nWHt5UD.png" >
                        <p>Next I cut holes for the spouts, electronics and servo.</p>
                        <img width=400px height=auto src="https://i.imgur.com/57jR3Iw.png" >
                        <p>To prevent the spouts from sliding in and out, I decided to create guards to hold it in place: I first cut tabs onto the main piece. Then extrude a new component and use combine cut to create tabs on the other piece. I did it for all 3 spout holes.</p>
                        <img width=400px height=auto src="https://i.imgur.com/NXUPrhB.png" ><img width=400px height=auto src="https://i.imgur.com/rwUK3R0.png" ><img width=400px height=auto src="https://i.imgur.com/2H4HbYt.png" >
                        <p>To keep the support in place I decided to have it slot into the tower, so I extrude tabs on the sides and combine cut the tabs into the wood sides.</p>
                        <img width=400px height=auto src="https://i.imgur.com/WjW4Kag.png" ><img width=400px height=auto src="https://i.imgur.com/fhOgN8Q.png" >
                        <p>I lastly cut holes for the servo screws.</p>
                        <img width=400px height=auto src="https://i.imgur.com/HNgT8wy.png" >
                        <p>Completed acrylic servo support:</p>
                        <img width=600px height=auto src="https://i.imgur.com/hVrCh1L.png" >
                      </div>

                      <div id="print" class="tabcontent">
                        <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
                        <h4 id="-u-the-tower-u-"><u>Spout</u></h4>
                        <p>The water will be dispensed onto the spout, which will channel the water down onto the plant pots located under it.</p>
                        <img width=400px height=auto src="https://i.imgur.com/HNpg4AK.png" >
<p>I create a new component for the spout. I create a sketch with the tower&#39;s middle floor as the base and the servo support as outline. </p>
<img width=400px height=auto src="https://i.imgur.com/CprhL0r.png" >
<p>I then extrude it and chamfer the sides down.</p>
<img width=400px height=auto src="https://i.imgur.com/TKuJiTU.png" ><img width=400px height=auto src="https://i.imgur.com/OuUHx7f.png" >
<p>I used shell with thickness 3mm to create form the spout mouth.</p>
<img width=400px height=auto src="https://i.imgur.com/e9yrXtZ.png" >
<p>I fillet the bottom edge and chamfer the top of the mouth</p>
<img width=400px height=auto src="https://i.imgur.com/lYW3Lpp.png" ><img width=400px height=auto src="https://i.imgur.com/2RIMcJk.png" >
<p>To create a slant, I used plane at angle and create a plane at the mouth at an angle of 13 degrees, I then extrude the base, select extent type &quot;to object&quot; and select the angled plane.</p>
<img width=400px height=auto src="https://i.imgur.com/zUuRH0q.png" ><img width=400px height=auto src="https://i.imgur.com/CE8ofaa.png" >
<p>I lastly fillet the sides round.</p>
<img width=400px height=auto src="https://i.imgur.com/CN6eKqh.png" >
<p>The spout is complete: I will need 3 of these.</p>
<img width=600px height=auto src="https://i.imgur.com/4bHhZNd.png" >
                      </div>

                      <div id="prototype">
                        <h3 id="-u-design-sketches-u-"><u>prototyping</u></h3>
                        <p>After the initial design, I made a cardboard prototype of the design, this way I can test the design before using the actual materials. I also 3D printed a single spout to test.</p>
                        <div class="row">
                          <div class="column">
                            <figure>
                              <img src="https://i.imgur.com/5clsoVP.jpg" width=400px height=auto>
                              <figcaption><small>Tower front</small></figcaption>
                            </figure>
                          </div>
                          <div class="column">
                            <figure>
                              <img src="https://i.imgur.com/lNq8Kpm.jpg" width=400px height=auto>
                              <figcaption><small>Tower back</small></figcaption>
                            </figure>
                          </div>
                        </div>
                        <figure>
                          <img src="https://i.imgur.com/40Ffpz3.jpg" width=400px height=auto>
                          <figcaption><small>Spout and servo fits nicely.</small></figcaption>
                        </figure>

                      <p>After prototyping, some slight design changes has been made:</p>
                      <ul>
                        <li>Shifted tube hole to the cover (so the tube will not obstruct the servo rotation)</li>
                        <li>Changed material used to make the tower from wood to acrylic (so water will not damage it)</li>
                        <li>cut a tab hole for sliding door edge on the base (keeps the loose edge in place)</li>
                        <li>Extend spout guards upwards on servo supports (to prevent it from falling off).</li>
                      </ul>
                        
                      <p><h4>The final design model:</p></h4>
                      <iframe src="https://ichat1316.autodesk360.com/shares/public/SH919a0QTf3c32634dcf0d6116cc0e2bf6c4?mode=embed" width="640" height="480" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" class="center" frameborder="0"></iframe>
                      <a href="../Fusion 360/project/Plant fountain v59.f3d.f3d" class="center">Download Plant Fountain.f3d</li></a>
                      </div>

                      </div>
          
        

          <div id="fabrication">
            <h3 id="-u-design-sketches-u-"><u>Fabrication</u></h3>
            <p>Once the design is done, I convert the parts to its appropriate files to prepare for fabrication.</p>

            <p><u>Laser cutting</u></p>
            <p>The Tower and Servo holder are to be cut with the laser cutter, so I convert the part faces into a dxf file. I then use LibreCAD to check the outlines are correct. I also compiled all the parts into a single file. </p>
            <div class="row">
              <div class="column">
                <img src="https://i.imgur.com/XGIvi75.png" width=360px height=auto>
              </div>
              <div class="column">
                <img src="https://i.imgur.com/KY40BUB.png" width=480px height=auto>
              </div>
            </div>
            <p>Using 3mm clear acrylic for the Servo support and 3mm white acrylic for the Tower</p>
            <div class="center">
            <div class="row">
              <div class="column">
                <img src="https://i.imgur.com/15EYwfY.png" width=390px height=auto>
              </div>
              <div class="column">
                <img src="https://i.imgur.com/J0N1NN1.jpg" width=293px height=auto>
              </div>
            </div>
          </div>
          <a href="../Fusion 360/project/Tower_servo dxf.rar">Download dxf files.rar</li></a>

          <p><u>3D printing</u></p>
          <p>The spouts and servo horn require 3D printing to fabricate. I first convert the file to STL</p>
          <img src="https://i.imgur.com/RvvnzKv.png" width=700px height=auto>
          <p>I require 3 spouts, but becuase I printed 1 for testing here I only need 2.</p>
          <p><u>Ultimaker Cura Print settings:</u></p>
          <ul>
            <li>Layer height = 0.2mm</li>
            <li>Infill: Density = 15%, Infill pattern = Grid</li>
            <li>Print speed = 90mm/s</li>
            <li>No support generation</li>
            <li>No build plate adhesion</li>
          </ul>
          <p>Completed prints:</p>
          <img width=400px height=auto src="https://i.imgur.com/8XAXE2t.jpg" >
          
          <p><a href="../Fusion 360/project/spout.stl" >Spout.stl</a>   |   <a href="../Fusion 360/project/horn.stl" >Horn.stl</a></p>
          </div>

          <div id="assembly">
            <h3><u>Assembly</u></h3>
            <p>The parts were a loose fit, so I used some chloroform to fix them together. Here I only connected the slider guard and 3 of the wall panels together, so I can still fix in the interior later.</p>
            <img src="https://i.imgur.com/tYaekvq.jpg" width=500px height=auto>
            <p>Assembled piece:</p>
            <div class="row">
              <div class="column">
                <img src="https://i.imgur.com/E9dM0Tv.jpg" width=300x height=auto>
              </div>
              <div class="column">
                <img src="https://i.imgur.com/HV3CkYW.jpg" width=300px height=auto>
              </div>
              <div class="column">
                <img src="https://i.imgur.com/xQV9hih.jpg" width=300px height=auto>
              </div>
            </div>
            <p>As the Servo wire was in the way, I ended up fixing the servo on from the underside of the acrylic support,</p>
            <p>To attach the printed servo horn I simply used a screw to secure it. To secure the tube in place I used a thin wire. As the Servo can only rotate 180 degrees, I positioned the horn to face the leftmost spout opening so it can reach the other 2.</p>
            <div class="row">
              <div class="column">
                <img src="https://i.imgur.com/IX8ZPiT.jpg" height=270 width=auto>
              </div>
              <div class="column">
                <img src="https://i.imgur.com/8Lsvntp.jpg" height=270 width=auto>
              </div>
            </div>
          </div>

          <div id="electronics">
            <h3><u>Electronics</u></h3>
            <p>Next is programming and integrating the electronics into the build.<br>The idea is to direct the servo towards the pot that is detected dry, and turns on the DC motor to pump water until no longer dry.</p>
            <p>I first prototype and program the circuit on ThinkerCAD.</p>
            <img src="https://i.imgur.com/jyvL1Xb.png" width=600px height=auto>

          <p>As ThinkerCAD does not have a water sensor, I used an LDR as replacement as both sensors are analog and works similarly.</p>
          <video width="750" height="auto" controls class="center">
            <source src="https://i.imgur.com/GpdLT4u.mp4" type="video/mp4">
          Your browser does not support the video tag :(
          </video>
          <p>I start with the output devices, which are the Servo and DC motor pump.</p>

          <p>Testing the Servo: I programmed it such that the servo would rotate in specific angles to aim the tubing to the correct spout.</p>
          <video height="270" width="auto" controls >
            <source src="https://i.imgur.com/Ixfcmpy.mp4" type="video/mp4">
          Your browser does not support the video tag :(
          </video>

          <p>In order to interface the DC motor to the Arduino I require a transistor to run it. For this I used a 2N2222 transistor. The transistor is connected to analog pin 9.</p>
          <div class="row">
            <div class="column">
              <figure>
                <img src="https://i.imgur.com/8VNiAlJ.png" height=270 width=auto>
                <figcaption>Circuit Diagram</figcaption>
              </figure>
            </div>
            <div class="column">
              <figure>
                <img src="https://i.imgur.com/qREphY1.jpg" height=270 width=auto>
                <figcaption>Breadboard connection</figcaption>
              </figure>
            </div>
          </div>
          <p>I wrote a program to test the servo and motor to position and dispense water.</p>
          <video height="400" width="auto" controls >
            <source src="https://i.imgur.com/aThsxlr.mp4" type="video/mp4">
          Your browser does not support the video tag :(
          </video>
          <p>For the input devices, I will need a water sensor to detect amount of water in soil. I connected the sensor as an analog input so it can measure moisture percentage.</p>
          <div class="row">
            <div class="column">
              <figure>
                <img src="https://i.imgur.com/7MogWko.jpg" height=270 width=auto>
                <figcaption>Water sensor</figcaption>
              </figure>
            </div>
            <div class="column">
              <figure>
                <video height="270" width="auto" controls >
            <source src="https://i.imgur.com/UzyGODD.mp4" type="video/mp4">
          Your browser does not support the video tag :(
          </video>
                <figcaption>Testing using serial monitor.</figcaption>
              </figure>
            </div>
</div>
<p>For testing I only connected 1 water sensor, while the other ports are shorted.</p>
            <p>Arduino program code:</p>
            <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #888888">//water sensor</span>
<span style="color: #008800; font-weight: bold">const</span> <span style="color: #333399; font-weight: bold">int</span> h1 <span style="color: #333333">=</span> A0; <span style="color: #888888">//Plant One sensor </span>
<span style="color: #008800; font-weight: bold">const</span> <span style="color: #333399; font-weight: bold">int</span> h2 <span style="color: #333333">=</span> A1; <span style="color: #888888">//Plant Two sensor </span>
<span style="color: #008800; font-weight: bold">const</span> <span style="color: #333399; font-weight: bold">int</span> h3 <span style="color: #333333">=</span> A2; <span style="color: #888888">//Plant Three sensor</span>
<span style="color: #333399; font-weight: bold">int</span> value1; <span style="color: #888888">//h1 value</span>
<span style="color: #333399; font-weight: bold">int</span> value2; <span style="color: #888888">//h2 value</span>
<span style="color: #333399; font-weight: bold">int</span> value3; <span style="color: #888888">//h3 value</span>

<span style="color: #888888">//servo</span>
<span style="color: #557799">#include &lt;Servo.h&gt;</span>
Servo servo1;
<span style="color: #333399; font-weight: bold">int</span> pot1 <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>;
<span style="color: #333399; font-weight: bold">int</span> pot2 <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">90</span>;
<span style="color: #333399; font-weight: bold">int</span> pot3 <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">180</span>;

<span style="color: #888888">//motor pump</span>
<span style="color: #557799">#define motor_pin 9</span>

<span style="color: #333399; font-weight: bold">bool</span> action <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>; 

<span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">setup</span>()
{
  Serial.begin(<span style="color: #0000DD; font-weight: bold">9600</span>);
  Serial.println(<span style="background-color: #fff0f0">&quot;ready&quot;</span>);
  
  <span style="color: #888888">//servo</span>
  servo1.attach(<span style="color: #0000DD; font-weight: bold">5</span>);
  servo1.write(pot1);
  
  <span style="color: #888888">//motor</span>
  pinMode(motor_pin, OUTPUT);
  
}

<span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">loop</span>()
{
  <span style="color: #888888">//read water sensor</span>
  value1 <span style="color: #333333">=</span> analogRead(h1);
  value2 <span style="color: #333333">=</span> analogRead(h2);  
  value3 <span style="color: #333333">=</span> analogRead(h3);  
    
  value1 <span style="color: #333333">=</span> constrain(value1,<span style="color: #0000DD; font-weight: bold">400</span>,<span style="color: #0000DD; font-weight: bold">1023</span>);
  value2 <span style="color: #333333">=</span> constrain(value2,<span style="color: #0000DD; font-weight: bold">400</span>,<span style="color: #0000DD; font-weight: bold">1023</span>);
  value3 <span style="color: #333333">=</span> constrain(value3,<span style="color: #0000DD; font-weight: bold">400</span>,<span style="color: #0000DD; font-weight: bold">1023</span>); 
   
  value1 <span style="color: #333333">=</span> map(value1,<span style="color: #0000DD; font-weight: bold">400</span>,<span style="color: #0000DD; font-weight: bold">1023</span>,<span style="color: #0000DD; font-weight: bold">100</span>,<span style="color: #0000DD; font-weight: bold">0</span>);
  value2 <span style="color: #333333">=</span> map(value2,<span style="color: #0000DD; font-weight: bold">400</span>,<span style="color: #0000DD; font-weight: bold">1023</span>,<span style="color: #0000DD; font-weight: bold">100</span>,<span style="color: #0000DD; font-weight: bold">0</span>);
  value3 <span style="color: #333333">=</span> map(value3,<span style="color: #0000DD; font-weight: bold">400</span>,<span style="color: #0000DD; font-weight: bold">1023</span>,<span style="color: #0000DD; font-weight: bold">100</span>,<span style="color: #0000DD; font-weight: bold">0</span>);  
  
  Serial.print(<span style="background-color: #fff0f0">&quot;h1=&quot;</span>);
  Serial.print(value1 );
  Serial.print(<span style="background-color: #fff0f0">&quot; h2=&quot;</span>);
  Serial.print(value2 );
  Serial.print(<span style="background-color: #fff0f0">&quot; h3=&quot;</span>);
  Serial.println(value3 );
  delay(<span style="color: #0000DD; font-weight: bold">1000</span>);
  
  <span style="color: #888888">//pot1</span>
  <span style="color: #008800; font-weight: bold">if</span> (value1 <span style="color: #333333">&lt;=</span> <span style="color: #0000DD; font-weight: bold">30</span>){ <span style="color: #888888">//pot detect dry</span>
    <span style="color: #008800; font-weight: bold">if</span> (action <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span>){
      action <span style="color: #333333">=</span> <span style="color: #333333">!</span>action;
      servo1.write(pot1);
      delay (<span style="color: #0000DD; font-weight: bold">3000</span>);
      digitalWrite(motor_pin, HIGH);
      delay(<span style="color: #0000DD; font-weight: bold">4000</span>);
      digitalWrite(motor_pin, LOW);
      delay (<span style="color: #0000DD; font-weight: bold">2000</span>);
      action <span style="color: #333333">=</span> <span style="color: #333333">!</span>action;

    }
  }

   <span style="color: #888888">//pot2</span>
  <span style="color: #008800; font-weight: bold">if</span> (value2 <span style="color: #333333">&lt;=</span> <span style="color: #0000DD; font-weight: bold">30</span>){ <span style="color: #888888">//pot detect dry</span>
    <span style="color: #008800; font-weight: bold">if</span> (action <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span>){
      action <span style="color: #333333">=</span> <span style="color: #333333">!</span>action;
      servo1.write(pot2);
      delay (<span style="color: #0000DD; font-weight: bold">3000</span>);
      digitalWrite(motor_pin, HIGH);
      delay(<span style="color: #0000DD; font-weight: bold">4000</span>);
      digitalWrite(motor_pin, LOW);
      delay (<span style="color: #0000DD; font-weight: bold">2000</span>);
      action <span style="color: #333333">=</span> <span style="color: #333333">!</span>action;
        
    }
  }
   <span style="color: #888888">//pot3</span>
  <span style="color: #008800; font-weight: bold">if</span> (value3 <span style="color: #333333">&lt;=</span> <span style="color: #0000DD; font-weight: bold">30</span>){ <span style="color: #888888">//pot detect dry</span>
    <span style="color: #008800; font-weight: bold">if</span> (action <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span>){
      action <span style="color: #333333">=</span> <span style="color: #333333">!</span>action;
      servo1.write(pot3);
      delay (<span style="color: #0000DD; font-weight: bold">3000</span>);
      digitalWrite(motor_pin, HIGH);
      delay(<span style="color: #0000DD; font-weight: bold">4000</span>);
      digitalWrite(motor_pin, LOW);
      delay (<span style="color: #0000DD; font-weight: bold">2000</span>);
      action <span style="color: #333333">=</span> <span style="color: #333333">!</span>action;

    }
  }
}
</pre></div>
<p>How the program works:</p>
<ul>
<li>The water sensors are read as analog inputs, which the readings are shown as moisture percentage.</li>
<li>When the water sensor detects moisture level is below 30, the Boolean &quot;action&quot; will become 1, which will prevent other actions from happening while it attends to the pot first detected.</li>
<li>The  Servo will then rotate to a specific angle, which positions the tube to the correct spout.</li>
<li>The motor pump will then be turned on to dispense water, and turned off after 4 seconds.</li>
<li>&quot;Action&quot; will go back to 0. indicating the action is completed.</li>
<li>The program will go back to reading the water sensors.</li>
</ul>


<p>After ensuring the I/O components work, I transfer the circuit onto an Arduino nano so it can fit into the compartment.</p>
<div class="row">
  <div class="column">
    <figure>
      <img src="https://i.imgur.com/iNs6XM4.jpg" height=400 width=auto>
      <figcaption>Side removed to connect the electronics</figcaption>
    </figure>
  </div>
  <div class="column">
    <figure>
      <img src="https://i.imgur.com/OwN8v1b.jpg" height=400 width=auto>
      <figcaption>Arduino nano breadboard stuck to the side</figcaption>
    </figure>
  </div>
  <div class="column">
    <figure>
      <img src="https://i.imgur.com/qD51uUa.jpg" height=400 width=auto>
      <figcaption>The Mini-B USB jack through the door hole.</figcaption>
    </figure>
  </div>
</div>

          </div>
    

  

          <div id="documentation">
            <h3><u>Documentation</u></h3>

            <p>Hero shots:</p>

            <div class="row">
              <div class="column">
                <figure>
                  <img src="https://i.imgur.com/3EUEc19.jpg" height=400 width=auto>
                  <figcaption>Front</figcaption>
                </figure>
              </div>
              <div class="column">
                <figure>
                  <img src="https://i.imgur.com/vlkawWk.jpg" height=400 width=auto>
                  <figcaption>Side</figcaption>
                </figure>
              </div>
              <div class="column">
                <figure>
                  <img src="https://i.imgur.com/J7b0XTd.jpg" height=400 width=auto>
                  <figcaption>Back</figcaption>
                </figure>
              </div>

              <h4><u>Setting up the Plant Fountain:</u></h4>
              <ol>
                <li>Place potted plants under the spouts.<br></li>
                <li>Insert water sensors into soil.<br></li>
                <li>Place pump into container, fill with water.<br></li>
                <li>Plug Arduino into power source.<br></li>
                <li>Refill water container when needed.</li>
                </ol>
                

            <h4> <u class="center">Video</u></h4>
            <iframe width="760" height="515" src="https://www.youtube.com/embed/RoUjYUkv7RY" frameborder="0" class="center" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            
            <h4> <u class="center"><a href="../Fusion 360/project/presentation.png" >Presentation</u></h4></a>
            <img width=1080px height=auto class="center" src="../Fusion 360/project/presentation.png" >

            <h4> <u class="center">Review</u></h4>
            <p>In all, the Plant Fountain works as intended, but more improvements can be done to make it better.</p>
<p>Some improvements and additions that can be done:</p>
<ul>
<li>A function to disable water delivery to specific spouts (if system is not required to maintain all pot stations).</li>
<li>Spout modification to prevent water puddles from staying on the spout.</li>
<li>A built in water compartment so an external bottle would not be needed.</li>
<li>Built in Grow Lights so plants can grow at night or in dark places.</li>
</ul>


          </div>
          








        </div>



        <div id="footer">
            Copyright &copy; Me (T_T), all rights reserved ~
        </div>

        <button onclick="topFunction()" id="myBtn" title="Go to top">Back to Top</button>
    <script>
        mybutton = document.getElementById("myBtn");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0; // For Safari
  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}

function openCity(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();

    </script>


    </div>


</body>



</html>